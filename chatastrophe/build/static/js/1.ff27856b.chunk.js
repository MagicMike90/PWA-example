(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{25:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=function(e){return o.a.createElement("div",{id:"Header"},o.a.createElement("img",{src:"/assets/icon.png",alt:"logo"}),o.a.createElement("h1",null,"Chatastrophe"),e.children)};t.a=a},26:function(e,t,n){"use strict";var r=n(0),s=n.n(r),o=n(1),a=n.n(o),i=n(4),c=n.n(i),u=n(5),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},m=function(o){function i(){var e,a;f(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a=h(this,o.call.apply(o,[this].concat(n)))).handleClick=function(e){if(a.props.onClick&&a.props.onClick(e),!e.defaultPrevented&&0===e.button&&!a.props.target&&!y(e)){e.preventDefault();var t=a.context.router.history,n=a.props,r=n.replace,o=n.to;r?t.replace(o):t.push(o)}},h(a,e)}return d(i,o),i.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=p(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,a="string"==typeof t?Object(u.b)(t,null,null,o.location):t,i=o.createHref(a);return s.a.createElement("a",l({},r,{onClick:this.handleClick,href:i,ref:n}))},i}(s.a.Component);m.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},t.a=m},28:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var r=n(0),i=n.n(r),s=n(26),o=n(7),c=n.n(o),u=n(25);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?g(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,t;l(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(g(g(t=h(this,(e=d(a)).call.apply(e,[this].concat(r))))),"state",{newMessage:"",messagesLoaded:!1}),b(g(g(t)),"scrollToBottom",function(){var e=c.a.findDOMNode(t.messageContainer);e&&(e.scrollTop=e.scrollHeight)}),b(g(g(t)),"handleLogout",function(){firebase.auth().signOut()}),b(g(g(t)),"handleInputChange",function(e){t.setState({newMessage:e.target.value})}),b(g(g(t)),"handleSubmit",function(){t.props.onSubmit(t.state.newMessage),t.setState({newMessage:""})}),b(g(g(t)),"handleKeyDown",function(e){"Enter"===e.key&&(e.preventDefault(),t.handleSubmit())}),b(g(g(t)),"getAuthor",function(e,t){if(!t||t.author!==e.author)return i.a.createElement("p",{className:"author"},i.a.createElement(s.a,{to:"/users/".concat(e.user_id)},e.author))}),t}return y(a,r["Component"]),f(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e){e.messages.length!==this.props.messages.length&&this.scrollToBottom()}},{key:"render",value:function(){var n=this;return i.a.createElement("div",{id:"ChatContainer",className:"inner-container"},i.a.createElement(u.a,null,i.a.createElement("button",{className:"red",onClick:this.handleLogout},"Logout")),this.props.messagesLoaded&&this.props.user?i.a.createElement("div",{id:"message-container",ref:function(e){n.messageContainer=e}},this.props.messages.map(function(e,t){return i.a.createElement("div",{key:e.id,className:"message ".concat(n.props.user.email===e.author&&"mine")},i.a.createElement("p",null,e.msg),n.getAuthor(e,n.props.messages[t+1]))})):i.a.createElement("div",{id:"loading-container"},i.a.createElement("img",{src:"/assets/icon.png",alt:"logo",id:"loader"})),i.a.createElement("div",{id:"chat-input"},i.a.createElement("textarea",{placeholder:"Add your message...",onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,value:this.state.newMessage}),i.a.createElement("button",{onClick:this.handleSubmit},i.a.createElement("svg",{viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"#424242",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"})))))}}]),a}()}}]);